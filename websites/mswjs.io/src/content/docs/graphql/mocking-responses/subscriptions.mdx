---
order: 2
title: Subscriptions
description: Handling GraphQL subscriptions.
---

## Publishing data

You can publish data to the intercepted GraphQL subscription by providing it to the `subscription.publish()` function.

```ts {2-9} /subscription.publish/
api.subscription('OnCommendAdded', ({ subscription }) => {
  subscription.publish({
    data: {
      commendAdded: {
        id: 1,
        text: 'Hello world',
      },
    },
  })
})
```

This will automatically notify all the clients subscribed to the `OnCommendAdded` subscription.

## Completing subscription

You can mark the intercepted GraphQL subscription as complete by calling `subscription.complete()` at any point in the response resolver.

```ts {2} /subscription.complete/
api.subscription('OnCommendAdded', ({ subscription }) => {
  subscription.complete()
})
```

This will mark the `OnCommendAdded` subscription as complete, stopping any subscribed clients from following the updates.
